[gd_scene load_steps=15 format=3 uid="uid://bxmtoty58yacp"]

[ext_resource type="Script" uid="uid://cdt62g5hp76ax" path="res://Scripts/vault.gd" id="1_hdbe0"]
[ext_resource type="PackedScene" uid="uid://0qk5o41kh53l" path="res://Assets/Models/Vault/vault.glb" id="1_pgl0o"]
[ext_resource type="PackedScene" uid="uid://v0lgvd33pc4t" path="res://Assets/Models/Drill/drill.glb" id="2_77l63"]
[ext_resource type="PackedScene" uid="uid://be3mt73tieedg" path="res://Assets/Models/Loot/gold.glb" id="4_6mgkt"]

[sub_resource type="BoxShape3D" id="BoxShape3D_77l63"]
size = Vector3(2.34692, 2.74509, 2.02887)

[sub_resource type="BoxShape3D" id="BoxShape3D_hdbe0"]
size = Vector3(0.0776367, 2.38989, 1.3252)

[sub_resource type="Gradient" id="Gradient_77l63"]
colors = PackedColorArray(1, 0.128712, 0.0317986, 1, 0.658742, 0.511384, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_hdbe0"]
gradient = SubResource("Gradient_77l63")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6mgkt"]
initial_velocity_max = 15.38
scale_min = 0.0
color_ramp = SubResource("GradientTexture1D_hdbe0")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_o11eu"]
vertex_color_use_as_albedo = true

[sub_resource type="SphereMesh" id="SphereMesh_ctvux"]
material = SubResource("StandardMaterial3D_o11eu")
radius = 0.05
height = 0.1

[sub_resource type="Animation" id="Animation_rpyvr"]
resource_name = "doorAction"
length = 3.75
tracks/0/type = "rotation_3d"
tracks/0/imported = true
tracks/0/enabled = true
tracks/0/path = NodePath("door")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 0.1, 1, 0, -0.000933037, 0, 1, 0.133333, 1, 0, -0.00211036, 0, 0.999998, 0.166667, 1, 0, -0.00378009, 0, 0.999993, 0.2, 1, 0, -0.00609094, 0, 0.999982, 0.233333, 1, 0, -0.00887098, 0, 0.999961, 0.266667, 1, 0, -0.0121125, 0, 0.999927, 0.3, 1, 0, -0.0158076, 0, 0.999875, 0.333333, 1, 0, -0.0199484, 0, 0.999801, 0.366667, 1, 0, -0.0246681, 0, 0.999696, 0.4, 1, 0, -0.02981, 0, 0.999556, 0.433333, 1, 0, -0.035366, 0, 0.999375, 0.466667, 1, 0, -0.041328, 0, 0.999146, 0.5, 1, 0, -0.0476878, 0, 0.998862, 0.533333, 1, 0, -0.0545625, 0, 0.99851, 0.566667, 1, 0, -0.0618104, 0, 0.998088, 0.6, 1, 0, -0.0694231, 0, 0.997587, 0.633333, 1, 0, -0.0773917, 0, 0.997001, 0.666667, 1, 0, -0.0857074, 0, 0.99632, 0.7, 1, 0, -0.0944709, 0, 0.995528, 0.733333, 1, 0, -0.103556, 0, 0.994624, 0.766667, 1, 0, -0.112952, 0, 0.9936, 0.8, 1, 0, -0.122651, 0, 0.99245, 0.833333, 1, 0, -0.132642, 0, 0.991164, 0.866667, 1, 0, -0.14301, 0, 0.989721, 0.9, 1, 0, -0.153643, 0, 0.988127, 0.933333, 1, 0, -0.16453, 0, 0.986372, 0.966667, 1, 0, -0.175662, 0, 0.984451, 1, 1, 0, -0.187027, 0, 0.982355, 1.03333, 1, 0, -0.198693, 0, 0.980062, 1.06667, 1, 0, -0.210562, 0, 0.97758, 1.1, 1, 0, -0.222625, 0, 0.974904, 1.13333, 1, 0, -0.23487, 0, 0.972027, 1.16667, 1, 0, -0.247286, 0, 0.968943, 1.2, 1, 0, -0.259922, 0, 0.96563, 1.23333, 1, 0, -0.272697, 0, 0.9621, 1.26667, 1, 0, -0.285601, 0, 0.958349, 1.3, 1, 0, -0.29862, 0, 0.954372, 1.33333, 1, 0, -0.311744, 0, 0.950166, 1.36667, 1, 0, -0.325006, 0, 0.945712, 1.43333, 1, 0, -0.351736, 0, 0.936099, 1.5, 1, 0, -0.378662, 0, 0.925535, 1.6, 1, 0, -0.419275, 0, 0.907859, 1.76667, 1, 0, -0.486485, 0, 0.873689, 2.1, 1, 0, -0.613536, 0, 0.789667, 2.2, 1, 0, -0.64845, 0, 0.761257, 2.26667, 1, 0, -0.67067, 0, 0.741756, 2.33333, 1, 0, -0.692009, 0, 0.721889, 2.4, 1, 0, -0.712361, 0, 0.701813, 2.43333, 1, 0, -0.722176, 0, 0.691709, 2.46667, 1, 0, -0.731747, 0, 0.681577, 2.5, 1, 0, -0.74107, 0, 0.671428, 2.53333, 1, 0, -0.750104, 0, 0.661319, 2.56667, 1, 0, -0.758884, 0, 0.651226, 2.6, 1, 0, -0.767408, 0, 0.641159, 2.63333, 1, 0, -0.775675, 0, 0.631132, 2.66667, 1, 0, -0.783685, 0, 0.621158, 2.7, 1, 0, -0.791393, 0, 0.611308, 2.73333, 1, 0, -0.798841, 0, 0.601543, 2.76667, 1, 0, -0.806029, 0, 0.591876, 2.8, 1, 0, -0.812961, 0, 0.582319, 2.83333, 1, 0, -0.819636, 0, 0.572885, 2.86667, 1, 0, -0.826006, 0, 0.563661, 2.9, 1, 0, -0.832121, 0, 0.554593, 2.93333, 1, 0, -0.837985, 0, 0.545694, 2.96667, 1, 0, -0.843598, 0, 0.536976, 3, 1, 0, -0.848964, 0, 0.52845, 3.03333, 1, 0, -0.854032, 0, 0.520221, 3.06667, 1, 0, -0.858856, 0, 0.512217, 3.1, 1, 0, -0.863441, 0, 0.50445, 3.13333, 1, 0, -0.86779, 0, 0.496931, 3.16667, 1, 0, -0.871906, 0, 0.489674, 3.2, 1, 0, -0.875734, 0, 0.482795, 3.23333, 1, 0, -0.879333, 0, 0.476207, 3.26667, 1, 0, -0.882709, 0, 0.469921, 3.3, 1, 0, -0.885862, 0, 0.463948, 3.33333, 1, 0, -0.888798, 0, 0.458299, 3.36667, 1, 0, -0.891456, 0, 0.453107, 3.4, 1, 0, -0.8939, 0, 0.448267, 3.43333, 1, 0, -0.896131, 0, 0.443789, 3.46667, 1, 0, -0.898153, 0, 0.439684, 3.5, 1, 0, -0.899966, 0, 0.43596, 3.53333, 1, 0, -0.901506, 0, 0.432766, 3.56667, 1, 0, -0.902839, 0, 0.429979, 3.6, 1, 0, -0.903964, 0, 0.427609, 3.63333, 1, 0, -0.904882, 0, 0.425664, 3.66667, 1, 0, -0.905591, 0, 0.424152, 3.7, 1, 0, -0.90602, 0, 0.423234, 3.75, 1, 0, -0.906308, 0, 0.422618)
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("drill:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.01, 3.75),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../CollisionShape3D2:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 3.75),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(1.1616, 0.0704538, 0.0088377), Vector3(1.86105, 0.0704538, 1.43417)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../CollisionShape3D2:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 3.75),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -2.26893, 0)]
}

[sub_resource type="Animation" id="Animation_hdbe0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("drill:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../CollisionShape3D2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(1.1616, 0.0704538, 0.0088377)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../CollisionShape3D2:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6mgkt"]
_data = {
&"RESET": SubResource("Animation_hdbe0"),
&"doorAction": SubResource("Animation_rpyvr")
}

[node name="Vault" type="StaticBody3D" groups=["vault"]]
script = ExtResource("1_hdbe0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00476074, -0.000595093, -0.00650024)
shape = SubResource("BoxShape3D_77l63")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.1616, 0.0704538, 0.0088377)
shape = SubResource("BoxShape3D_hdbe0")

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.16968, -0.0866043, -0.0087961)
emitting = false
amount = 20
lifetime = 0.33
randomness = 1.0
process_material = SubResource("ParticleProcessMaterial_6mgkt")
draw_pass_1 = SubResource("SphereMesh_ctvux")

[node name="drilltime" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="vault" parent="." instance=ExtResource("1_pgl0o")]

[node name="AnimationPlayer" parent="vault" index="2"]
libraries = {
&"": SubResource("AnimationLibrary_6mgkt")
}

[node name="drill" parent="vault" instance=ExtResource("2_77l63")]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 1.68822, -0.639267, 0)
visible = false

[node name="gold" parent="." instance=ExtResource("4_6mgkt")]
transform = Transform3D(-1.31134e-08, 0, 0.3, 0, 0.3, 0, -0.3, 0, -1.31134e-08, 0.382179, -1.11265, 0.609943)

[connection signal="timeout" from="drilltime" to="." method="_on_drilltime_timeout"]

[editable path="vault"]
